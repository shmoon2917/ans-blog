---
title: useEffect ì˜ì¡´ì„±ì— refë¥¼ ë‹´ì„ ë•Œë§ˆë‹¤ ì°œì°œí•˜ì‹  ë¶„ë“¤ì„ ìœ„í•´
date: '2022-03-24 00:00:00'
description: useEffectì— refë¥¼ ì˜ì¡´ì„±ìœ¼ë¡œ ì¶”ê°€í•˜ëŠ” ê²ƒì´ ì–´ë–¤ ë¬¸ì œê°€ ìˆëŠ”ì§€, í•´ê²° ë°©ë²•ì€ ë¬´ì—‡ì¸ì§€ ì•Œì•„ë´…ë‹ˆë‹¤.
readingTime: '15'
---

# ğŸ¥± TLDR;

refê°€ ë³€ê²½ë˜ì–´ë„ ì»´í¬ë„ŒíŠ¸ê°€ ìƒˆë¡œ ë Œë”ë§ë˜ì§€ëŠ” ì•Šìœ¼ë¯€ë¡œ, `useEffect`ëŠ” refì˜ ë³€ê²½ì— ëŒ€í•´ ì¦‰ê° ê°ì§€ë¥¼ í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë‹¤ë¥¸ ê°’ ë³€ê²½ ë“±ì˜ ì´ìœ ë¡œ ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ì´ ìƒˆë¡œ ëì„ ë•Œ ë¹„ë¡œì†Œ ë³€ê²½ëœ ref ê°’ì„ ë³¼ ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.
ë”°ë¼ì„œ ë‹¤ìŒ ì¡°ê±´ì— ë”°ë¼ ê° refì˜ ê°±ì‹ ì„ ê´€ë¦¬í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.

- ëª¨ë“  ë Œë”ë§ ì‹œë§ˆë‹¤ íŠ¸ë¦¬ê±°ë˜ëŠ” `useEffect`ê°€ ì•„ë‹ˆë¼ë©´, ì‚¬ìš©í•  refëŠ” `useCallback` + `callback ref`ë¡œ ì‘ì„±í•˜ê¸°
- ëª¨ë“  ë Œë”ë§ ì‹œë§ˆë‹¤ íŠ¸ë¦¬ê±°ë˜ëŠ” `useEffect`ë¼ë©´, `useRef`ì˜ ê°’ì„ ì˜ì¡´ì„±ìœ¼ë¡œ ë‹´ì•„ë„ ë¨

# ë‹¤ë“¤ ì´ëŸ° ê²½í—˜ ìˆì£ ?

ë¦¬ì•¡íŠ¸ í”„ë ˆì„ì›Œí¬ë¡œ ê°œë°œì„ í•˜ë‹¤ë³´ë©´, DOM ë…¸ë“œì˜ ì‚¬ì´ì¦ˆ(`width`, `height`)ë‚˜ í¬ì§€ì…˜(`top`, `bottom`, ...)ê°’ì„ êµ¬í•´ì•¼í•˜ëŠ” ì‘ì—…ì´ í•„ìš”í•  ë•Œê°€ ìˆì£ .
ì €ë„ ì¢…ì¢… ì´ëŸ° ìƒí™©ì„ ê²ªëŠ”ë°ìš”, ê·¸ ì¤‘ í•˜ë‚˜ë¡œ DOM ë…¸ë“œì— refë¥¼ ì„¤ì •í•˜ì—¬ height ê°’ì„ ê³„ì‚°í•´ì£¼ëŠ” ì»¤ìŠ¤í…€ í›…ì„ ì‘ì„±í–ˆì—ˆìŠµë‹ˆë‹¤. ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

```tsx
// ref objectì— DOM ë…¸ë“œê°€ ì„¤ì •ë˜ë©´ height ê°’ì„ ì„¤ì •í•´ì£¼ëŠ” ì»¤ìŠ¤í…€ í›…
const useGettingHeight = () => {
  const [height, setHeight] = useState(null);
  const ref = useRef<HTMLElement>();

  // refì— DOM ë…¸ë“œê°€ ì„¤ì •ë˜ëŠ” ê²ƒì„ ê°ì§€í•˜ì—¬ height ì„¤ì •(?)
  useEffect(() => {
    if (!!ref.current) setHeight(ref.current.getBoundingClientRect().height);
  }, [ref.current]);

  return [height, ref];
};

function App() {
  const [height, ref] = useGettingHeight();

  return (
    <div ref={ref} style={{ height: `${height}px` }}>
      ì´ë ‡ê²Œ ì‘ì„±í•´ë„ ë ê¹Œìš”?
    </div>
  );
}
```

ìœ„ ì½”ë“œëŠ” ì •ìƒì ìœ¼ë¡œ `<div>`ì— ì¸ë¼ì¸ ìŠ¤íƒ€ì¼ `height: 18px` ê°’ì´ ì„¤ì •ë˜ê¸°ëŠ” í•©ë‹ˆë‹¤. ì–¸ëœ» ë³´ê¸°ì—ëŠ” ë¬¸ì œê°€ ì—†ëŠ” ì½”ë“œê°™ì•„ìš”. ê·¸ëŸ°ë° ê³¼ì—° ì§„ì§œ ë¬¸ì œê°€ ì—†ëŠ” ì½”ë“œì¼ê¹Œìš”?ğŸ¤”

# useEffectì— ref objectë¥¼ ì˜ì¡´ì„±ìœ¼ë¡œ ì£¼ì…í•˜ëŠ” ê²ƒì˜ ì§„ì§œ ë¬¸ì œ

ìœ„ ì˜ˆì‹œì—ì„œ ìš°ë¦¬ëŠ” `useEffect`ì˜ ë‘ ë²ˆì§¸ ì¸ìë¡œ `ref.current`ë¥¼ ì¶”ê°€í•¨ì— ë”°ë¼, `useEffect`ê°€ ref ë³€ê²½ì„ ê°ì§€í•˜ì—¬ `setHeight`ì´ ì‹¤í–‰ëœë‹¤ê³  ì´í•´í•˜ê¸° ì‰¬ìš´ë°ìš”.

ì•„ì‰½ê²Œë„ ì´ëŠ” ì˜ëª»ëœ ì´í•´ì…ë‹ˆë‹¤.
ì™œëƒí•˜ë©´ `ref`ëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ë‹¤ì‹œ ë Œë”ë§ë  ë•Œê¹Œì§€ ê°’ì´ ì—…ë°ì´íŠ¸ ë˜ì—ˆëŠ”ì§€ í™•ì¸í•  ìˆ˜ ì—†ê±°ë“ ìš”. ë˜í•œ `ref`ì˜ ê°’ì´ ê°±ì‹ ë˜ì–´ë„ ì»´í¬ë„ŒíŠ¸ëŠ” ìƒˆë¡œ ë Œë”ë§ì´ ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë‹¤ë¥¸ ì´ìœ ë¡œ ì¸í•´ ì»´í¬ë„ŒíŠ¸ê°€ ë‹¤ì‹œ ë Œë”ë§ë˜ì–´ì„œì•¼ ê°±ì‹ ëœ ê°’ì„ í™•ì¸í•  ìˆ˜ ìˆì–´ìš”. ì´ ë§ì€ ê³§, **ë Œë”ë§ì„ ê±´ë„ˆë›°ëŠ” useEffect**ëŠ” ë‹¤ìŒ ë Œë”ë§ ì „ì—ëŠ” `ref`ì— ëŒ€í•œ ì–´ë–¤ ë³€ê²½ë„ ë³¼ ìˆ˜ ì—†ë‹¤ëŠ” ê²ƒì„ ëœ»í•©ë‹ˆë‹¤.

ë¬´ìŠ¨ ë§ì¸ì§€ ì¢€ ì–´ë ¤ìš°ì‹ ê°€ìš”? ì•„ë˜ ì˜ˆì‹œë¥¼ ë³´ë©´ ì¢€ ë” ì´í•´ê°€ ìˆ˜ì›”í•˜ì‹¤ ê±°ì—ìš”.

```tsx
const useGettingHeight = () => {
  const [height, setHeight] = useState(null);
  const ref = useRef<HTMLElement>();

  useEffect(() => {
    if (!!ref.current) setHeight(ref.current.getBoundingClientRect().height);
  }, [ref.current]);

  return [height, ref];
};

const useLoading = () => {
  const [loading, setLoading] = useState(true);

  // ì»´í¬ë„ŒíŠ¸ ë§ˆìš´íŠ¸ ì‹œ loading falseë¡œ ì—…ë°ì´íŠ¸
  useEffect(() => setLoading(false), []);
  return loading;
};

function App() {
  // ì²« ë Œë”ë§ ì‹œ refê°€ attachedë¨
  const [height, ref] = useGettingHeight();

  // loading ê°’ì´ trueê°€ ëœ ì´í›„ refê°€ attachedë¨
  const [lazyHeight, lazyRef] = useGettingHeight();
  const loading = useLoading();

  return (
    <>
      <div ref={ref}>ref height: {height.toString()}</div>
      {!loading && <div ref={lazyRef}>Lazy ref height: {lazyHeight.toString()}</div>}
    </>
  );
}
```

ìœ„ì—ì„œ ì‘ì„±í–ˆë˜ DOM ë…¸ë“œì˜ heightì„ ê°€ì ¸ì˜¤ëŠ” í›…ì„ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤. ëˆˆ ì—¬ê²¨ë³¼ ì ì€ `useLoading`ê°€ ì¶”ê°€ëœ ê²ƒì¸ë°ìš”, ì»´í¬ë„ŒíŠ¸ ë§ˆìš´íŠ¸ ì´í›„ì— `loading` ê°’ì´ `true`ê°€ ë˜ë©´ì„œ ì¶”ê°€ë¡œ ë‘ ë²ˆì§¸ `<div>`ê°€ ë Œë”ë§ë˜ê³  refì— DOM node ì°¸ì¡°ê°’ì´ ë‹´ê¹ë‹ˆë‹¤. ì²« ë²ˆì§¸ refì™€ì˜ êµ¬ë¶„ì„ ìœ„í•´ `lazyRef`ë¼ê³  ëª…ëª…í–ˆìŠµë‹ˆë‹¤.

ì´ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ë©´ ì–´ë–»ê²Œ ë ê¹Œìš”? ë‘˜ ë‹¤ heightì„ ì •ìƒì ìœ¼ë¡œ ì¶œë ¥í• ê¹Œìš”?

> ë§í¬ë¥¼ í´ë¦­í•´ì„œ ì§ì ‘ í™•ì¸í•´ë³´ì„¸ìš” [Link](https://codesandbox.io/s/musing-silence-yhm28q)

## ì‹¤í–‰ ê²°ê³¼

![problem of ref with useEffect {170x52}](/assets/articles/ref-with-useEffect-1.png 'ë³´ì´ì§€ ì•ŠëŠ” lazyHeight')

ì»´í¬ë„ŒíŠ¸ ë§ˆìš´íŠ¸ ì´í›„ì— ì„¤ì •ë˜ì—ˆë˜ `lazyRef`ì˜ heightì€ ê°’ì´ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ê²°ê³¼ê°€ ì´í•´ê°€ ë˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ë‹¤ìŒì˜ ì‹¤í–‰ ìˆœì„œë¥¼ ì²œì²œíˆ ë”°ë¼ê°€ë´…ì‹œë‹¤.

1. ì»´í¬ë„ŒíŠ¸ì˜ ì²« ë Œë”ë§
   - ì²« ë²ˆì§¸ `<div>`ê°€ ë Œë”ë§ë˜ê³ , `ref`ì— DOM node ì°¸ì¡°ê°’ì´ ë‹´ê¹ë‹ˆë‹¤.
   - `lazyRef`ëŠ” ì•„ì§ ë‘ ë²ˆì§¸ `<div>`ê°€ ë Œë”ë§ë˜ì§€ ì•Šì•˜ìœ¼ë¯€ë¡œ ê°’ì´ ì—†ìŠµë‹ˆë‹¤.
2. ì²« ë Œë”ë§ ì´í›„ ì‹¤í–‰ë˜ëŠ” useEffect ì½œë°±
   - `useGettingHeight`ì˜ `ref.current`ë¥¼ ì˜ì¡´ì„±ìœ¼ë¡œ ê°€ì§€ëŠ” `useEffect` ì½œë°±ì´ ì‹¤í–‰ë©ë‹ˆë‹¤.
     - **Note.** `ref.current` ì˜ì¡´ì„± ë•Œë¬¸ì— í˜¸ì¶œë˜ëŠ” ê²ƒì´ ì•„ë‹™ë‹ˆë‹¤! ëª¨ë“  useEffectëŠ” ì˜ì¡´ì„±ê³¼ ê´€ê³„ì—†ì´ ì»´í¬ë„ŒíŠ¸ ì²« ë Œë”ë§ ì´í›„ í•œ ë²ˆ ì‹¤í–‰ë©ë‹ˆë‹¤.
   - `useLoading`ì˜ `useEffect` ì½œë°±ë„ ì‹¤í–‰ë©ë‹ˆë‹¤.
3. useEffectì— ì˜í•´ ë³€ê²½ë˜ëŠ” state
   - useEffect ì½œë°±ì´ ì²˜ìŒìœ¼ë¡œ ì‹¤í–‰ë  ë•Œ, ì²« ë²ˆì§¸ `ref.current`ëŠ” DOM node ì°¸ì¡°ê°’ì„ ê°€ì§€ê³  ìˆìœ¼ë¯€ë¡œ `setHeight`ì„ í˜¸ì¶œí•˜ì—¬ `height` stateë¥¼ ì—…ë°ì´íŠ¸í•´ì¤ë‹ˆë‹¤.
   - ë‘ ë²ˆì§¸ `lazyRef.current`ëŠ” ê°’ì´ ì—†ìœ¼ë¯€ë¡œ `setHeight`ì´ í˜¸ì¶œë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
   - `loading` ê°’ì´ `true`ê°€ ë©ë‹ˆë‹¤.
4. state ë³€ê²½ìœ¼ë¡œ ì¸í•œ ì»´í¬ë„ŒíŠ¸ ë¦¬ë Œë”ë§
   - ë¦¬ë Œë”ë§ ì‹œ, ì²« ë²ˆì§¸ `height` ê°’ì´ ì¡´ì¬í•˜ë¯€ë¡œ ì²« ë²ˆì§¸ `<div>`ì˜ innerTextì— 18ì´ë¼ëŠ” ê°’ì´ ì°í™ë‹ˆë‹¤.
   - `loading` ê°’ì´ trueì´ë¯€ë¡œ ë‘ ë²ˆì§¸ `<div>`ê°€ ë Œë”ë§ë˜ê³ , `lazyRef`ì— DOM node ì°¸ì¡°ê°’ì´ ë‹´ê¹ë‹ˆë‹¤.
5. **ë™ì‘ ë**
   - ë™ì‘ì€ ì—¬ê¸°ì„œ ëì´ ë‚©ë‹ˆë‹¤. `lazyRef.current` ê°’ì´ ë³€ê²½ë˜ì—ˆëŠ”ë°ë„ ë‘ ë²ˆì§¸ í›…ì˜ useEffectëŠ” í˜¸ì¶œë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

ì´ì œ ìœ„ì—ì„œ í–ˆë˜ **"ë Œë”ë§ì„ ê±´ë„ˆë›°ëŠ” useEffectëŠ” ë‹¤ìŒ ë Œë”ë§ ì „ì—ëŠ” refì— ëŒ€í•œ ì–´ë–¤ ë³€ê²½ë„ ë³¼ ìˆ˜ ì—†ë‹¤"**ëŠ” ë§ì´ ì´í•´ë˜ì‹œë‚˜ìš”?

ìš°ë¦¬ëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ë‹¤ë¥¸ stateë“¤ì„ ë‹¤ë£¨ëŠ” ë§ˆë²•ì˜ ë°©ì‹ì²˜ëŸ¼ refì˜ ë³€ê²½ì— ëŒ€ì‘í•  ìˆ˜ ìˆë„ë¡ í•  ìˆ˜ëŠ” ì—†ìŠµë‹ˆë‹¤. useEffectëŠ” refì˜ ë³€ê²½ì„ ì¦‰ê° ê°ì§€í•  ìˆ˜ ì—†ì–´ìš”. ë‹¤ë§Œ ë‹¤ìŒ ë Œë”ë§ì´ ë°œìƒí–ˆì„ ë•ŒëŠ” `ref`ì˜ ë³€ê²½ì„ í™•ì¸í•  ìˆ˜ ìˆì–´ì„œ useEffect ì½œë°±ì„ ì‹¤í–‰ì‹œì¼œ ì¤„ ìˆ˜ ìˆê² ì£ .

ë§ì´ ê¸¸ì—ˆëŠ”ë° ê²°êµ­ í•œ ë¬¸ì¥ìœ¼ë¡œ ì •ë¦¬í•˜ìë©´ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

> **useEffectê°€ ë§¤ ë Œë”ë§ë§ˆë‹¤ í˜¸ì¶œë˜ëŠ” ê²Œ ì•„ë‹ˆë¼ë©´(refì˜ ë³€ê²½ì„ ê³„ì†í•´ì„œ í™•ì¸í•  ìˆ˜ ìˆëŠ” ìƒíƒœê°€ ì•„ë‹ˆë¼ë©´), useEffectì— ref objectë¥¼ ì˜ì¡´ì„±ìœ¼ë¡œ ë‹´ì§€ ë§ˆì„¸ìš”**ğŸ™…â€â™‚ï¸

# í•´ê²° ë°©ë²•

DOM Nodeë¥¼ ì°¸ì¡°í•˜ê¸° ìœ„í•œ ë°©ë²•ìœ¼ë¡œ `useRef`ë¥¼ ì‚¬ìš©í•˜ëŠ” ëŒ€ì‹ ì—, `useCallback`ì„ ì‚¬ìš©í•´ì„œ [Callback ref](https://reactjs.org/docs/refs-and-the-dom.html#callback-refs)ë¥¼ ë§Œë“œì„¸ìš”! ìœ„ì˜ `useGettingHeight` hookì„ ì´ë¥¼ ì‚¬ìš©í•˜ì—¬ ìˆ˜ì •í•´ë³´ê² ìŠµë‹ˆë‹¤.

```tsx
const useGettingHeight = () => {
  const [height, setHeight] = useState(null);

  // âœ…  useRefì™€ useEffectë¥¼ ì§€ìš°ê³  callback refë¥¼ ìƒˆë¡œ ì‘ì„±
  const ref = useCallback((node: HTMLElement) => {
    if (node !== null) {
      setHeight(node.getBoundingClientRect().height);
    }
  }, []);

  return [height, ref];
};

function App() {
  const [height, ref] = useGettingHeight();
  const [lazyHeight, lazyRef] = useGettingHeight();
  const loading = useLoading();

  return (
    <>
      <div ref={ref}>ref height: {height.toString()}</div>
      {!loading && <div ref={lazyRef}>Lazy ref height: {lazyHeight.toString()}</div>}
    </>
  );
}
```

ì»¤ìŠ¤í…€ í›…ì—ì„œ ë¦¬í„´í•˜ëŠ” refë¥¼ callback refì˜ í˜•íƒœë¡œ ë³€ê²½í•œ ê²ƒì„ ì œì™¸í•˜ê³ ëŠ” ìœ„ì˜ ì½”ë“œì™€ ë™ì¼í•©ë‹ˆë‹¤! í•œ ë²ˆ ì‹¤í–‰í•´ë³¼ê¹Œìš”?

> ìœ„ ë§í¬ì—ì„œ ì§ì ‘ ì½”ë“œë¥¼ ìˆ˜ì •í•´ì„œ ê²°ê³¼ë¥¼ í™•ì¸í•´ë³´ì„¸ìš”ğŸ™Œ

## ì‹¤í–‰ ê²°ê³¼

![use pattern of ref callback with useCallback {170x52}](/assets/articles/ref-with-useEffect-2.png 'ì •ìƒì ìœ¼ë¡œ ì°¸ì¡°ê°€ ë‹´ê¸´ ë‘ ref')

ì˜ ì‘ë™í•˜ëŠ”êµ°ìš”! ë¦¬ì•¡íŠ¸ëŠ” ì´ì œ `ref`(callback ref)ê°€ nodeì— ë¶™ì—¬ì§ˆ ë•Œ ì´ ì½œë°±ì„ ì‹¤í–‰í•  ê²ë‹ˆë‹¤. ë¶™ì—¬ì§€ëŠ” ë•Œë„ ìƒê´€ì—†ê³ , ë‹¤ë¥¸ ë…¸ë“œì— ë‹¤ì‹œ ë¶™ê²Œ ë˜ë”ë¼ë„ ìƒê´€ì—†ì–´ìš”. ê·¸ ë•Œë§ˆë‹¤ í•´ë‹¹ ì½œë°±ì„ ì‹¤í–‰ì‹œì¼œ ì¤„ê²ë‹ˆë‹¤. ì´ë ‡ê²Œ nodeë¥¼ ì¸ìë¡œ ë°›ëŠ” ì½œë°±ì´ í˜¸ì¶œë˜ë©´ `setHeight`ì´ ì‹¤í–‰ë˜ì–´ ì—…ë°ì´íŠ¸ëœ `height` ê°’ì„ í™•ì¸í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.

ì¶”ê°€ë¡œ `useCallback`ì— ë¹ˆ ì˜ì¡´ì„±(`[]`)ì„ ì „ë‹¬í•œ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆëŠ”ë°ìš”. ì´ë ‡ê²Œ í•˜ë©´ ìš°ë¦¬ê°€ ë§Œë“  ref ì½œë°±ì´ ë¦¬ë Œë”ë§ ì‹œì—ë„ ì°¸ì¡°ê°’ì´ ë³€ê²½ë˜ì§€ ì•Šê²Œë” í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.(ë©”ëª¨ì´ì œì´ì…˜ì´ë¼ê³  í•˜ì£ ) ë”°ë¼ì„œ ë¦¬ì•¡íŠ¸ê°€ ë§¤ ë Œë”ë§ë§ˆë‹¤ ë¶ˆí•„ìš”í•˜ê²Œ ì½œë°±ì„ í˜¸ì¶œí•˜ì§€ ì•Šì„ ê±°ì—ìš”.

---

# ì •ë¦¬

refê°€ ë³€ê²½ë˜ì–´ë„ ì»´í¬ë„ŒíŠ¸ê°€ ìƒˆë¡œ ë Œë”ë§ë˜ì§€ëŠ” ì•Šìœ¼ë¯€ë¡œ, `useEffect`ëŠ” refì˜ ë³€ê²½ì— ëŒ€í•´ ì¦‰ê° ê°ì§€ë¥¼ í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë‹¤ë¥¸ ê°’ ë³€ê²½ ë“±ì˜ ì´ìœ ë¡œ ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ì´ ìƒˆë¡œ ëì„ ë•Œ ë¹„ë¡œì†Œ ë³€ê²½ëœ ref ê°’ì„ ë³¼ ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.
ì•„ë§ˆ ì§€ê¸ˆê¹Œì§€ refë¥¼ useEffectì— ì˜ì¡´ì„±ìœ¼ë¡œ ë‹´ìœ¼ë©° ì°œì°œí•¨ì„ ëŠë¼ì…¨ì„ ë¶„ë“¤ì´ ìˆì„ ê²ë‹ˆë‹¤. stateë¥¼ ì˜ì¡´ì„±ìœ¼ë¡œ ë‹´ì•˜ì„ ë•Œì™€ëŠ” ë¯¸ë¬˜í•˜ê²Œ ë‹¤ë¥¸ í˜„ìƒ(ê°’ì˜ ë³€ê²½ì´ í™•ì¸ì´ ì•ˆë˜ëŠ”)ì„ ê²ªìœ¼ì‹  ë¶„ë“¤, ì´ì œ ìì‹ ìˆê²Œ ì‘ì„±í•˜ì‹¤ ìˆ˜ ìˆê² ì£ ?

- ëª¨ë“  ë Œë”ë§ ì‹œë§ˆë‹¤ íŠ¸ë¦¬ê±°ë˜ëŠ” `useEffect`ê°€ ì•„ë‹ˆë¼ë©´, ì‚¬ìš©í•  refëŠ” `useCallback` + `callback ref`ë¡œ ì‘ì„±í•˜ê¸°
- ëª¨ë“  ë Œë”ë§ ì‹œë§ˆë‹¤ íŠ¸ë¦¬ê±°ë˜ëŠ” `useEffect`ë¼ë©´, ê·¸ëŒ€ë¡œ `useRef`ì˜ ê°’ì„ ì˜ì¡´ì„±ìœ¼ë¡œ ë‹´ì•„ë„ ë¨

ì•„ë˜ ë¦¬ì•¡íŠ¸ ê³µì‹ ë¬¸ì„œì˜ Hooks FAQì— ê´€ë ¨ëœ ë‚´ìš©ì´ ì¢€ ë” ìƒì„¸í•˜ê²Œ ë‚˜ì™€ìˆìŠµë‹ˆë‹¤. ë” ëª…í™•í•œ ì´í•´ë¥¼ ìœ„í•´ ì¶”ê°€ë¡œ ì½ì–´ë³´ì‹œëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤ğŸ™†â€â™‚ï¸

# ì°¸ê³ 

- [How can I measure a DOM node?](https://reactjs.org/docs/hooks-faq.html#how-can-i-measure-a-dom-node)
- [Ref objects inside useEffect Hooks](https://medium.com/@teh_builder/ref-objects-inside-useeffect-hooks-eb7c15198780)
